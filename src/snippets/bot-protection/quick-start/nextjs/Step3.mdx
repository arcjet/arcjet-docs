import Step3JS from "./Step3.js?raw";
import Step3AdvancedJS from "./Step3Advanced.js?raw";
import Step3TS from "./Step3.ts?raw";
import Step3AdvancedTS from "./Step3Advanced.ts?raw";
import { Code } from "@astrojs/starlight/components";
import SelectableContent from "@/components/SelectableContent";

For this quick start we will enable Arcjet Bot Protection across your entire
Next.js application. [Next.js
middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware)
runs before every request, allowing Arcjet to protect your entire application
before your code runs.

The **basic** option exports the middleware directly whereas the **advanced**
option allows you to customize the response based on the [Arcjet
decision](/bot-protection/reference?f=next-js#decision).

<SelectableContent client:load syncKey="language" frameworkSwitcher>
<div slot="TS (Basic)" slotIdx="1">
Create a file called `middleware.ts` in your project root (at the same level as
`pages` or `app` or inside `src`).

<Code
  code={Step3TS}
  lang="ts"
  title="middleware.ts"
/>
</div>
<div slot="TS (Advanced)" slotIdx="2">
Create a file called `middleware.ts` in your project root (at the same level as
`pages` or `app` or inside `src`).

<Code
  code={Step3AdvancedTS}
  lang="ts"
  title="middleware.ts"
/>
</div>
<div slot="JS (Basic)" slotIdx="3">
Create a file called `middleware.js` in your project root (at the same level as
`pages` or `app` or inside `src`):

<Code
  code={Step3JS}
  lang="js"
  title="/middleware.js"
/>
</div>
<div slot="JS (Advanced)" slotIdx="4">
Create a file called `middleware.js` in your project root (at the same level as
`pages` or `app` or inside `src`):

<Code
  code={Step3AdvancedJS}
  lang="js"
  title="/middleware.js"
/>
</div>
</SelectableContent>
