import Step3AppJS from "./Step3App.js?raw";
import Step3AppTS from "./Step3App.ts?raw";
import Step3PagesJS from "./Step3Pages.js?raw";
import Step3PagesTS from "./Step3Pages.ts?raw";
import { Code } from "@astrojs/starlight/components";
import SelectableContent from "@/components/SelectableContent";

For this quick start we will enable Arcjet Bot Protection on a single route
handler. This could be an API you want to protect, such as a form handler.

Arcjet also works in [page routes](/reference/nextjs#pages--page-components),
[server actions](/reference/nextjs#server-actions), and [middleware (renamed to
proxy in Next.js 16)](/bot-protection/reference#per-route-vs-middleware).

<SelectableContent client:load syncKey="language" frameworkSwitcher>
<div slot="TS (App)" slotIdx="1">
Create a new API route at `/app/api/arcjet/route.ts`:

<Code
  code={Step3AppTS}
  lang="ts"
  title="/app/api/arcjet/route.ts"
/>
</div>
<div slot="TS (Pages)" slotIdx="2">
Create a new API route at `/pages/api/arcjet.ts`:

<Code
  code={Step3PagesTS}
  lang="ts"
  title="/pages/api/arcjet.ts"
/>
</div>
<div slot="JS (App)" slotIdx="3">
Create a new API route at `/app/api/arcjet/route.js`:

<Code
  code={Step3AppJS}
  lang="js"
  title="/app/api/arcjet/route.js"
/>
</div>
<div slot="JS (Pages)" slotIdx="4">
Create a new API route at `/pages/api/arcjet.js`:

<Code
  code={Step3PagesJS}
  lang="js"
  title="/pages/api/arcjet.js"
/>
</div>
</SelectableContent>
