import SelectableContent from "@/components/SelectableContent";
import { Code } from "@astrojs/starlight/components";
import GlobalGuard from "./GlobalGuard.ts?raw";

<SelectableContent client:load syncKey="language" frameworkSwitcher>
<div slot="TS" slotIdx="1">
  Update your `src/main.ts` file with the contents:

{" "}

<Code code={GlobalGuard} lang="ts" title="src/main.ts" />

This creates a global [guard](https://docs.nestjs.com/guards) that will be
applied to all routes. In a real application, implementing guards or per-route
protections would give you more flexibility. See [our example
app](https://github.com/arcjet/example-nestjs) for how to do this.

</div>
</SelectableContent>
