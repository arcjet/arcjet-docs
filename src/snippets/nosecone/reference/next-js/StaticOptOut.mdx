import { Code } from "@astrojs/starlight/components";
import SelectableContent from "@/components/SelectableContent";

import LayoutConnectionTS from "./LayoutConnection.ts?raw";
import LayoutConnectionJS from "./LayoutConnection.js?raw";
import LayoutNoCacheTS from "./LayoutNoCache.ts?raw";
import LayoutNoCacheJS from "./LayoutNoCache.js?raw";

<SelectableContent client:load syncKey="language">
  <div slot="TS (Next.js 15)" slotIdx="1">
    <Code
      code={LayoutConnectionTS}
      lang="ts"
      title="app/layout.tsx"
      ins={[1, 5, 6]}
    />
  </div>
  <div slot="JS (Next.js 15)" slotIdx="2">
    <Code
      code={LayoutConnectionJS}
      lang="js"
      title="app/layout.jsx"
      ins={[1, 4, 5]}
    />
  </div>
  <div slot="TS (Next.js 14)" slotIdx="3">
    <Code
      code={LayoutNoCacheTS}
      lang="ts"
      title="app/layout.tsx"
      ins={[1, 5, 6]}
    />
  </div>
  <div slot="JS (Next.js 14)" slotIdx="4">
    <Code
      code={LayoutNoCacheJS}
      lang="js"
      title="app/layout.jsx"
      ins={[1, 4, 5]}
    />
  </div>
</SelectableContent>

:::caution
If you cannot opt-out of static generation, you will need to remove the
`nonce()` function from the provided defaults.
:::
