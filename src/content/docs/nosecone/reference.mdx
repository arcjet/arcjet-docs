---
title: "Arcjet Nosecone reference"
description: "Reference for the Nosecone library"
---

import WhatAreArcjetUtilities from "@/components/WhatAreArcjetUtilities.astro";
import DisplayType from "@/components/DisplayType.astro";

The Arcjet Nosecone library provides a streamlined way to apply secure headers
to your application.

<WhatAreArcjetUtilities />

## API

### `nosecone(options?: NoseconeOptions): Headers`

The default export is a function that returns a set of `Headers` to apply to a
request that help you secure your application. The defaults should work for many
applications, but all can be configured or disabled for specific requirements.

### `NoseconeOptions`

All entries in `NoseconeOptions` can be enabled with defaults by specifying
`true` or disabled by specifying `false`. Additionally, many allow individual
configuration via their own configuration objects, which override any defaults.

You can use object spread, e.g. `...defaults`, to combine the default values
with your overrides.

```ts
interface NoseconeOptions {
  /**
   * Configure the `Content-Security-Policy` header, which helps mitigate a
   * large number of attacks, such as cross-site scripting.
   */
  contentSecurityPolicy?: ContentSecurityPolicyConfig | boolean;
  /**
   * Configure the `Cross-Origin-Embedder-Policy` header, which helps control
   * what resources can be loaded cross-origin.
   */
  crossOriginEmbedderPolicy?: CrossOriginEmbedderPolicyConfig | boolean;
  /**
   * Configure the `Cross-Origin-Opener-Policy` header, which helps
   * process-isolate your page.
   */
  crossOriginOpenerPolicy?: CrossOriginOpenerPolicyConfig | boolean;
  /**
   * Configure the `Cross-Origin-Resource-Policy` header, which blocks others
   * from loading your resources cross-origin in some cases.
   */
  crossOriginResourcePolicy?: CrossOriginResourcePolicyConfig | boolean;
  /**
   * Configure the `Origin-Agent-Cluster` header, which provides a mechanism to
   * allow web applications to isolate their origins from other processes.
   */
  originAgentCluster?: boolean;
  /**
   * Configure the `Referrer-Policy` header, which controls what information is
   * set in the `Referer` request header.
   */
  referrerPolicy?: ReferrerPolicyConfig | boolean;
  /**
   * Configure the `Strict-Transport-Security` header, which tells browsers to
   * prefer HTTPS instead of insecure HTTP.
   */
  strictTransportSecurity?: StrictTransportSecurityConfig | boolean;
  /**
   * Configure the `X-Content-Type-Options` header, which helps mitigate MIME
   * type sniffing that can cause security issues.
   */
  xContentTypeOptions?: boolean;
  /**
   * Configure the `X-DNS-Prefetch-Control` header, which helps control DNS
   * prefetching to improve user privacy at the expense of performance.
   */
  xDnsPrefetchControl?: DnsPrefetchControlConfig | boolean;
  /**
   * Configure the `X-Download-Options` header, which prevents a user from
   * opening a file directly in Internet Explorer 8 to avoid prevent script
   * injection.
   */
  xDownloadOptions?: boolean;
  /**
   * Configure the `X-Frame-Options` header, which helps mitigate clickjacking
   * attacks in legacy browsers. This header is superceded by a directive in the
   * `Content-Security-Policy` header.
   */
  xFrameOptions?: FrameOptionsConfig | boolean;
  /**
   * Configure the `X-Permitted-Cross-Domain-Policies` header, which tells some
   * clients, like Adobe products, your domain's policy for loading cross-domain
   * content.
   */
  xPermittedCrossDomainPolicies?: PermittedCrossDomainPoliciesConfig | boolean;
  /**
   * Disable the `X-XSS-Protection` header, which could introduce a browser
   * side-channel if enabled.
   */
  xXssProtection?: boolean;
}
```

## Headers

### `Content-Security-Policy`

The `Content-Security-Policy` header is a powerful allow-list of what can happen
on your page which helps mitigate many attacks, such as cross-site scripting.

**Types:**

<DisplayType type="StaticOrDynamic" generics={["S"]} from="nosecone" />
<DisplayType type="Source" from="nosecone" />
<DisplayType type="HostSource" from="nosecone" />
<DisplayType type="SchemeSource" from="nosecone" />
<DisplayType type="FrameSource" from="nosecone" />
<DisplayType type="ActionSource" from="nosecone" />
<DisplayType type="CspDirectives" from="nosecone" />
<DisplayType type="ContentSecurityPolicyConfig" from="nosecone" />

**Defaults:**

```ts
{
  directives: {
    baseUri: ["'none'"],
    childSrc: ["'none'"],
    connectSrc: ["'self'"],
    defaultSrc: ["'self'"],
    fontSrc: ["'self'"],
    formAction: ["'self'"],
    frameAncestors: ["'none'"],
    frameSrc: ["'none'"],
    imgSrc: ["'self'", "blob:", "data:"],
    manifestSrc: ["'self'"],
    mediaSrc: ["'self'"],
    objectSrc: ["'none'"],
    scriptSrc: ["'self'"],
    styleSrc: ["'self'"],
    workerSrc: ["'self'"],
  },
};
```

The defaults will produce the following header:

```txt
Content-Security-Policy: base-uri 'none'; child-src 'none'; connect-src 'self'; default-src 'self'; font-src 'self'; form-action 'self'; frame-ancestors 'none'; frame-src 'none'; img-src 'self' blob: data:; manifest-src 'self'; media-src 'self'; object-src 'none'; script-src 'self'; style-src 'self'; worker-src 'self';
```

Additional resources:

- [MDN's Content-Security-Policy guide](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP)
- [OWASP Secure Headers Project - Content-Security-Policy](https://owasp.org/www-project-secure-headers/#content-security-policy)

### `Cross-Origin-Embedder-Policy`

The `Cross-Origin-Embedder-Policy` header helps control what resources can be
loaded cross-origin.

**Types:**

<DisplayType type="CrossOriginEmbedderPolicyConfig" from="nosecone" />

**Defaults:**

```ts

```

### `Cross-Origin-Opener-Policy`

The `Cross-Origin-Opener-Policy` header helps process-isolate your page.

**Types:**

<DisplayType type="CrossOriginOpenerPolicyConfig" from="nosecone" />

**Defaults:**

```ts

```

### `Cross-Origin-Resource-Policy`

The `Cross-Origin-Resource-Policy` header blocks others from loading your
resources cross-origin in some cases.

**Types:**

<DisplayType type="CrossOriginResourcePolicyConfig" from="nosecone" />

**Defaults:**

```ts

```

### `Origin-Agent-Cluster`

The `Origin-Agent-Cluster` header provides a mechanism to allow web applications
to isolate their origins from other processes.

**Types:**

```ts
type OriginAgentClusterConfig = boolean;
```

**Defaults:**

```ts

```

### `Referrer-Policy`

The `Referrer-Policy` header controls what information is set in the `Referer`
request header.

**Types:**

<DisplayType type="ReferrerPolicyConfig" from="nosecone" />

**Defaults:**

```ts

```

### `Strict-Transport-Security`

The `Strict-Transport-Security` header tells browsers to prefer HTTPS instead of
insecure HTTP.

**Types:**

<DisplayType type="StrictTransportSecurityConfig" from="nosecone" />

**Defaults:**

```ts

```

### `X-Content-Type-Options`

The `X-Content-Type-Options` header helps mitigate MIME type sniffing that can
cause security issues.

**Types:**

```ts
type ContentTypeOptionsConfig = boolean;
```

**Defaults:**

```ts

```

### `X-DNS-Prefetch-Control`

The `X-DNS-Prefetch-Control` header helps control DNS prefetching to improve
user privacy at the expense of performance.

**Types:**

<DisplayType type="DnsPrefetchControlConfig" from="nosecone" />

**Defaults:**

```ts

```

### `X-Download-Options` (legacy)

The **legacy** `X-Download-Options` header prevented a user from opening a file
directly in Internet Explorer to avoid prevent script injection.

**Types:**

```ts
type DownloadOptionsCofig = boolean;
```

**Defaults:**

```ts

```

### `X-Frame-Options` (legacy)

:::note
`X-Frame-Options` is superceded by the `frame-ancestors` directive in the
`Content-Security-Policy` header.
:::

The **legacy** `X-Frame-Options` header helped mitigate clickjacking attacks in
older browsers.

**Types:**

<DisplayType type="FrameOptionsConfig" from="nosecone" />

**Defaults:**

```ts

```

### `X-Permitted-Cross-Domain-Policies`

The `X-Permitted-Cross-Domain-Policies` header tells some clients, like Adobe
products, your domain's policy for loading cross-domain content.

**Types:**

<DisplayType type="PermittedCrossDomainPoliciesConfig" from="nosecone" />

**Defaults:**

```ts

```

### `X-XSS-Protection` (legacy)

The **legacy** `X-XSS-Protection` header tried to mitigate XSS attacks, but
accidentally enabled side-channel attacks in older browsers, so Nosecone
disables it.

**Types:**

```ts
type XssProtectionConfig = boolean;
```

**Defaults:**

```ts

```
